var horses=["Secretariat","Eclipse","West Australian","Flying Fox","Seabiscuit"],raceCounter=0,refs={startBtn:document.querySelector(".js-start-race"),winnerField:document.querySelector(".js-winner"),progressField:document.querySelector(".js-progress"),tableBody:document.querySelector(".js-results-table > tbody")};function onStart(){raceCounter+=1;var e=horses.map(run);updateWinnerField(""),updateProgressField("ü§ñ –ó–∞–µ–∑–¥ –Ω–∞—á–∞–ª—Å—è, —Å—Ç–∞–≤–∫–∏ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è!"),determineWinner(e),waitForAll(e)}function determineWinner(e){Promise.race(e).then((function(e){var t=e.horse,r=e.time;updateWinnerField("üéâ –ü–æ–±–µ–¥–∏–ª ".concat(t,", —Ñ–∏–Ω–∏—à–∏—Ä–æ–≤–∞–≤ –∑–∞ ").concat(r,"\n    –≤—Ä–µ–º–µ–Ω–∏")),updateResultsTable({horse:t,time:r,raceCounter:raceCounter})}))}function waitForAll(e){Promise.all(e).then((function(){updateProgressField("üìù –ó–∞–µ–∑–¥ –æ–∫–æ–Ω—á–µ–Ω, –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è —Å—Ç–∞–≤–∫–∏.")}))}function updateWinnerField(e){refs.winnerField.textContent=e}function updateProgressField(e){refs.progressField.textContent=e}function updateResultsTable(e){var t=e.horse,r=e.time,n=e.raceCounter,o="<tr><td>".concat(n,"</td><td>").concat(t,"</td><td>").concat(r,"</td></tr>");refs.tableBody.insertAdjacentHTML("beforeend",o)}function run(e){return new Promise((function(t){var r=getRandomTime(2e3,3500);setTimeout((function(){t({horse:e,time:r})}),r)}))}function getRandomTime(e,t){return Math.floor(Math.random()*(t-e+1)+e)}refs.startBtn.addEventListener("click",onStart);
//# sourceMappingURL=03-racetrack.adfdf266.js.map
